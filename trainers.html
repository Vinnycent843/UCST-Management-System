<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Trainers List ‚Äî JNNP</title>
  <style>
    body { font-family: Georgia, 'Times New Roman', serif; background:#f9f9f9; margin:0; padding:20px; color:#000; transition:0.3s; }
    h1 { text-align:center; color:#023e8a; margin-bottom:20px; }
    table { width:100%; border-collapse:collapse; background:#fff; box-shadow:0 4px 10px rgba(0,0,0,0.1); margin-bottom:20px; }
    th, td { padding:12px; border:1px solid #ddd; text-align:left; }
    th { background:#0077b6; color:#fff; }
    tr:nth-child(even){ background:#f2f2f2; }
    #searchInput { width:100%; max-width:400px; padding:10px; font-size:16px; margin-bottom:20px; border-radius:4px; border:1px solid #ccc; }
    #darkModeBtn { cursor:pointer; font-size:20px; margin-left:10px; }
    body.dark-mode { background:#212529; color:#f8f9fa; }
    body.dark-mode table { background:#2c2c2c; color:#f8f9fa; }
    body.dark-mode th { background:#343a40; color:#f8f9fa; }
    body.dark-mode td { border-color:#555; }
    body.dark-mode tr:nth-child(even){ background:#3a3a3a; }
  </style>
</head>
<body>

<h1>üë®‚Äçüè´ Trainers List</h1>

<div style="display:flex; align-items:center; gap:10px; margin-bottom:10px;">
  <input type="text" id="searchInput" placeholder="Search trainers...">
  <span id="darkModeBtn">üåô</span>
</div>

<table id="trainersTable">
  <thead>
    <tr>
      <th>Reg No</th>
      <th>Full Name</th>
      <th>Email</th>
      <th>Phone</th>
      <th>Department</th>
      <th>Courses</th>
      <th>Qualification</th>
      <th>Status</th>
    </tr>
  </thead>
  <tbody></tbody>
</table>

<script type="module">
  import { initializeApp } from "https://www.gstatic.com/firebasejs/10.12.2/firebase-app.js";
  import { getDatabase, ref, onValue } from "https://www.gstatic.com/firebasejs/10.12.2/firebase-database.js";

  const firebaseConfig = {
    apiKey: "AIzaSyAQZ1_Grh00sFgOp8pxkKff10sMFSw9xlc",
    authDomain: "jnnp-system.firebaseapp.com",
    databaseURL: "https://jnnp-system-default-rtdb.firebaseio.com",
    projectId: "jnnp-system",
    storageBucket: "jnnp-system.firebasestorage.app",
    messagingSenderId: "769232855377",
    appId: "1:769232855377:web:e3ba51e3e25cc24735f370"
  };

  const app = initializeApp(firebaseConfig);
  const db = getDatabase(app);
  const trainersRef = ref(db, "trainers");

  const tbody=document.querySelector("#trainersTable tbody");

  // ‚úÖ Load trainers into table (read-only view)
  onValue(trainersRef,snap=>{
    tbody.innerHTML="";
    const data = snap.val()||{};
    Object.keys(data).forEach(key=>{
      const t=data[key];
      const tr=document.createElement("tr");
      tr.innerHTML=`
        <td>${t.regNo||""}</td>
        <td>${t.fullName||""}</td>
        <td>${t.email||""}</td>
        <td>${t.phone||""}</td>
        <td>${t.department||""}</td>
        <td>${(t.courses||[]).join(", ")}</td>
        <td>${t.qualification||""}</td>
        <td>${t.status||""}</td>`;
      tbody.appendChild(tr);
    });
  });

  // Search
  document.getElementById("searchInput").addEventListener("input",()=>{
    const q=document.getElementById("searchInput").value.toLowerCase();
    Array.from(tbody.rows).forEach(row=>{
      row.style.display = Array.from(row.cells).some(td=>td.textContent.toLowerCase().includes(q)) ? "" : "none";
    });
  });

  // Dark mode
  const darkBtn=document.getElementById("darkModeBtn");
  darkBtn.addEventListener("click",()=>{
    document.body.classList.toggle("dark-mode");
    darkBtn.textContent=document.body.classList.contains("dark-mode")?"‚òÄÔ∏è":"üåô";
  });
</script>

</body>
</html>
